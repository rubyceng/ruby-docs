---
Title: 代码规范小结-TS,Java相关
Draft: true
tags:
  - 开发
Author: Ruby Ceng
---
今天想总结一下并且统一一下我平时写代码的一些习惯，也可以说是我的代码规范吧。毕竟写代码嘛，自己看着顺眼，用着顺手，心情也会好很多，效率自然也就高了！ 😊

我平时主要用 TypeScript 和 Java，  当然，代码规范这东西，很多原则都是通用的，本文的规范还是以TS和Java为主。 😉

### 代码之魂

对我来说，代码规范其实就围绕着几个核心原则，掌握了这些，写代码就更有方向了：

1. **可读性 > 一切：**  我写代码，首先考虑的就是“别人能不能看懂？”。  毕竟代码不是一次性的，以后还要维护、迭代，团队里还有其他人要接手。  所以，**代码清晰易懂，在我这儿绝对是 No.1**！  不是说抽象不好，而是在开发上，需求变动太频繁了，之前一直追求设计模式，有时候前期的过度封装和抽象会导致维护的地狱。可恶的需求啊！

2. **一致性，强迫症的福音：**  我个人有点小小的强迫症，代码风格不统一，我看着就难受。 😅  所以，**我非常注重代码风格的一致性**。  整个项目，最好都用一样的缩进、一样的命名、一样的注释风格，这样代码看起来整洁，读起来也流畅，维护起来也更轻松。

3. **代码要“自己说话”：**  我比较推崇“自文档化”的代码。  就是说，**代码本身要尽可能清晰地表达意图**。  我会花心思给变量、函数、类起个好名字，让名字就能说明白它们的用途。  当然，注释我也写，但主要是**注释那些代码本身表达不清楚的“为什么”**，而不是去解释“怎么做”，因为代码本身就应该告诉你“怎么做”了。

### 单文件结构

一个代码文件，就像房间一样，收拾得整整齐齐，住着也舒服。  我写代码的时候，也会注意文件的“内部结构”。

#### 文件结构小技巧

1. **文件头加个“小标签”：**  就像给文件贴个标签一样，我会在文件开头加个注释，简单写一下这个文件的作用、作者、创建时间啥的。  对于比较重要的文件，加个文件头，方便快速了解文件是干啥的。

2. **空行，代码的“呼吸”：**  写代码也要注意“呼吸感”，我会用空行来分隔不同的代码块。规则就是同级的代码块之间做区分。  比如，`import` 语句和类声明之间，类里面的变量和方法之间，方法里面的不同功能代码段之间，都用空行隔开，让代码看起来更有层次。

3. **`import` 永远放“头排”：**  这个不用多说啦，`import` 语句肯定要放在文件最前面，方便一眼看到这个文件依赖了哪些模块。

4. **缩进对齐，空格匀称：**  缩进是代码的“门面”，一定要对齐，我个人喜欢用 **2 个空格** 缩进，感觉比较清爽。  运算符、逗号啥的，前后加点空格，代码看起来更舒服。  还有，**每行代码长度尽量控制在 80-120 个字符**，太长了阅读起来比较累。

#### 变量、常量命名

命名这块，我也有一些自己的小习惯：

1. **临时变量，简单够用就好：**  临时变量嘛，就是用一下就扔的，名字不用太复杂，像 `temp`, `result`, `i`, `j` 这些常用的就OK,如果太多临时变量就要考虑是不是该修改方法结构，或者该对变量进行整合。

2. **常量，必须“鹤立鸡群”：**  常量是“不可变的”，为了跟普通变量区分开来，我喜欢用 **全大写字母，单词之间用下划线 `_` 分隔**，像 `MAX_VALUE`, `DEFAULT_NAME` 这样，一眼就能认出来是常量。

3. **普通变量，用“小驼峰”：**  普通变量就用 **驼峰命名法 (camelCase)** 啦，首字母小写，后面每个单词首字母大写，像 `userName`, `productPrice` 这样，比较通用。

#### 类和接口

类和接口是代码的“脸面”，名字和结构都很重要。

1. **接口：**  接口的名字，我喜欢用 **帕斯卡命名法 (PascalCase)**，就是每个单词首字母都大写，像 `IUserService`, `IProductRepository` 这样，感觉比较专业。  当然，Java 接口一般不用加 `I` 前缀也行。

2. **类：**  类的名字也用 **帕斯卡命名法**，像 `UserService`, `ProductController` 这样，简洁大气。

3. **属性：**  类的属性，就用 **驼峰命名法，跟普通变量一样。  集合类型的属性，名字用**复数形式**，像 `orderItems`, `productCategories`。  布尔属性，我喜欢用 `is` 或 `has` 开头，像 `isActive`, `isDeleted`。  **硬编码要用常量代替！**  比如 `MAX_PRODUCT_NAME_LENGTH = 100;`，代码更清晰。

4. **方法：**  方法的名字，也用 **驼峰命名法**，一般用 **“动词 + 名词”** 的形式，像 `getUserById()`, `calculateTotalPrice()`，一看就知道方法是干啥的。

5. **类：**  类里面的方法，我会按一定的顺序排列，比如 **静态方法 -> 构造函数 -> 公有方法 -> 受保护方法 -> 私有方法**，这样看起来更有条理。  访问修饰符 (`public`, `private`, `protected`) 也要用好，**能用 `private` 就不用 `protected`，能用 `protected` 就不用 `public`**，尽量封装内部实现细节。

#### 数据库命名

数据库命名也有一些“潜规则”，掌握了能少踩坑。

1. **英文名，国际通用：**  数据库的各种名字，**尽量用英文**，别用拼音或者中英文混搭，显得更专业。

2. **避开关键字，安全第一：**  数据库关键字就像“禁区”，要尽量避开，**数据库名、表名、列名都不要用关键字**，比如 `user`, `order`, `index`, `date` 这些。  实在要用，就加个前缀区分，但最好还是换个名字。

3. **小写蛇形，简单粗暴好用：**  数据库命名，我喜欢用 **全小写字母，单词之间用下划线 `_` 连接**，也就是 **蛇形命名法 (snake_case)**，像 `user_management_db`, `order_items`, `product_category_id` 这样，简单粗暴，但真的好用。

4. **别用“大白话”名字：**  数据库名字也要“专业”一点，**别用太宽泛、太口语化的词**，像 `data`, `table1`, `items`, `info` 这种，让人摸不着头脑。

5. **关联表，名字要“成双成对”：**  关联表（多对多关系的中间表），我喜欢用 **两个关联表的名字（复数形式）加下划线连接**，像 `users_roles`, `products_categories`，成双成对，一目了然。

6. **外键，名字要“指路明灯”：**  外键列的名字，一般用 **关联表的名字（单数形式）+ 下划线 + `id`** 的形式，比如 `user_id`, `product_category_id`，就像指路明灯一样，告诉你这个外键关联到哪个表。

#### 注释

注释不是越多越好，而是要“点到为止”。

1. **单行注释 `//`，一句话点睛：**  单行注释用来解释**简短的代码**，**重点是说清楚“为什么”**，而不是“怎么做”，代码本身要能说明“怎么做”。

2. **多行注释 `/* ... */`，段落式解读：**  多行注释用来解释**比较长的代码块、函数、类、接口**，可以写得详细一点，说明功能和逻辑。

3. **文档注释 `/** ... */`，API 说明书：**  文档注释 `/** ... */` 主要用来 **生成 API 文档**，像 Java 的 Javadoc 和 TypeScript 的 TypeDoc 就是用这种注释。  要按规范写，详细描述类、接口、方法的作用、参数、返回值等等。

4. **注释“关键词”，重点标记：**  我还会用一些特殊的注释关键词来标记一些“重点”：
   
   * **`TODO:`**  **待办事项**，还没完成的功能或者要后续处理的任务。
   * **`FIXME:`**  **需要修复的问题**，代码里有 Bug 或者需要改进的地方。
   * **`NOTE:` 或 `WARNING:`**  **注意事项**，代码里有潜在风险或者需要特别留意的地方。

### 代码规范

光靠自觉，难免有疏漏，这时候就需要工具来帮忙啦！

1. **TypeScript 代码规范工具：**
   
   * **Prettier：**  代码格式化神器，一键格式化，代码瞬间变整齐。
   * **ESLint：**  代码静态分析工具，检查代码问题，还能自定义代码风格规则。  **Prettier “美颜”，ESLint “质检”，绝配！**

2. **Java 代码规范工具：**
   
   * **Checkstyle：**  Java 代码静态分析工具，检查代码风格是否符合规范。
   * **IntelliJ IDEA 代码格式化：**  IDEA 自带的代码格式化也很强大，配合 Checkstyle 插件，与上面的Checkstyle可以统一。

### 代码规范

想深入了解代码规范，以下资源提供参考：

* **Airbnb JavaScript Style Guide：** [https://github.com/airbnb/javascript](https://github.com/airbnb/javascript)  JS 的规范，但 TS 也适用，特别是命名和结构方面。
* **Spring Boot Example Project：** [https://github.com/in28minutes/spring-boot-examples](https://github.com/in28minutes/spring-boot-examples)  Spring Boot 示例项目，代码很规范，可以学习。

---

**最后，唠叨两句：**

代码规范不是死的，可以根据项目和团队情况灵活调整。  **最重要的是找到一套适合自己的规范，并且坚持下去。**  代码规范是为了让代码更清晰、更易维护，最终提高开发效率和代码质量。  希望我的这些小贴士能帮到大家，也欢迎留言交流，一起进步！ 😊

